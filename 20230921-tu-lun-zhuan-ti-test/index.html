<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>2023/09/21 图论专题训练 | 天边的生活の博客</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://blog.tbdsh.top/favicon.ico?v=1726456585738">
<link rel="stylesheet" href="https://blog.tbdsh.top/styles/main.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<link rel="stylesheet" href="/aos.css" />
<script src="/vue.min.js"></script>



<script src="/jquery.min.js"></script>
<script src='/Valine.min.js'></script>
<script src="/av-min.js"></script>
<script src="/sakura.js"></script>

    <meta name="description" content="CF915D Almost Acyclic Graph
签到题。
考虑暴力删边，拓扑排序判环，时间复杂度：O(m×(n+m))O(m\times(n+m))O(m×(n+m))。会炸。
注意到拓扑排序的性质：不关心具体删了哪条边，只关心入度..." />
    <meta name="keywords" content="学习笔记" />
  </head>
  <body>
  <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.9/katex.min.css">
  <script defer src="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://blog.tbdsh.top">
        <img src="https://blog.tbdsh.top/images/avatar.png?v=1726456585738" class="site-logo">
        <h1 class="site-title">天边的生活の博客</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/about" class="site-nav">
            关于
          </a>
        
      
        
          <a href="/changelog" class="site-nav">
            更新日志
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0" align="center">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      到，天边去生活？
    </div>
    <div class="site-footer">
      <span id="timeDate"></span><span id="times"></span>
<script language="javascript">
 var now = new Date();
 function createtime(){
  var grt= new Date("09/23/2023 00:00:00");/*---这里是网站的启用时间--*/
  now.setTime(now.getTime()+250);
  days = (now - grt ) / 1000 / 60 / 60 / 24;
  dnum = Math.floor(days);
  hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
  hnum = Math.floor(hours);
  if(String(hnum).length ==1 ){hnum = "0" + hnum;}
  minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
  mnum = Math.floor(minutes);
  if(String(mnum).length ==1 ){mnum = "0" + mnum;}
  seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
  snum = Math.round(seconds);
  if(String(snum).length ==1 ){snum = "0" + snum;}
  document.getElementById("timeDate").innerHTML = "本站已以极其不稳定的方式运行了 "+dnum+" 天    ";
  document.getElementById("times").innerHTML = hnum + "    小时 " + mnum + " 分 " + snum + " 秒       ";
 }
 setInterval("createtime()",250);
</script>
<br>
<br>
<a href="https://icp.gov.moe/?keyword=20246653" target="_blank">萌ICP备20246653号</a> | <a class="rss" href="https://blog.tbdsh.top/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>

	  
	  
	  <script>
		document.addEventListener("visibilitychange", function () {
			if (document.hidden) {
				document.title="快回来！！！";
			} else  {
				document.title="(ㄏ￣▽￣)ㄏ终于回来啦";
				setTimeout(function(){
					document.title= "2023/09/21 图论专题训练 | 天边的生活の博客";
				}, 2000);
			}
		}, false);
	</script>

      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">2023/09/21 图论专题训练</h2>
            <div class="post-date">2023-09-24</div>
            
            <div class="post-content" v-pre>
              <h1 id="cf915d-almost-acyclic-graph"><a href="https://www.luogu.com.cn/problem/cf915d">CF915D Almost Acyclic Graph</a></h1>
<p>签到题。</p>
<p>考虑暴力删边，拓扑排序判环，时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>m</mi><mo>×</mo><mo>(</mo><mi>n</mi><mo>+</mo><mi>m</mi><mo>)</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">O(m\times(n+m))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>。会炸。</p>
<p>注意到拓扑排序的性质：不关心具体删了哪条边，只关心入度。</p>
<p>所以暴力删边变成暴力减度数。时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mo>×</mo><mo>(</mo><mi>n</mi><mo>+</mo><mi>m</mi><mo>)</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n\times (n+m))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span>。</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
  
using namespace std;
const int MAXN = 505;
int n, m;
vector&lt;int&gt; a[MAXN];
bool check(vector&lt;int&gt; ind){
  int cnt = 0;
  queue&lt;int&gt; b;
  for (int i = 1; i &lt;= n; i++){
    if (!ind[i]){
      b.push(i);
    }
  }
  while (b.size()){
    auto x = b.front();
    b.pop();
    cnt++;
    for (auto v : a[x]){
      if (!--ind[v]){
        b.push(v);
      }
    }
  }
  return cnt == n;
}
int main(){
  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
  cin &gt;&gt; n &gt;&gt; m;
  vector&lt;int&gt; ind(n + 1, 0);
  while (m--){
    int u, v;
    cin &gt;&gt; u &gt;&gt; v;
    a[u].push_back(v);
    ind[v]++;
  }
  if (check(ind)){
    cout &lt;&lt; &quot;YES&quot;;
    return 0;
  }
  for (int i = 1; i &lt;= n; i++){
    if (!ind[i]){
      continue;
    }
    ind[i]--;
    if (check(ind)){
      cout &lt;&lt; &quot;YES&quot;;
      return 0;
    }
    ind[i]++;
  }
  cout &lt;&lt; &quot;NO&quot;;
  return 0;
}
</code></pre>
<h1 id="cf543b-destroying-roads"><a href="https://www.luogu.com.cn/problem/cf543b">CF543B Destroying Roads</a></h1>
<p>直接从每个点出发跑一边 Dijkstra。</p>
<p>因为要破坏尽可能多的公路，那么我们就要让两个点走过的路径的集合的大小尽可能小。</p>
<p>那么就有可能是以下四种情况（其中，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 代表某个中间节点，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">dis_{i,j}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 表示从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathdefault">i</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span></span></span></span> 的最短路）：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi><mo>=</mo><mi>min</mi><mo>⁡</mo><mrow><mo fence="true">{</mo><mtable><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>s</mi><mn>1</mn><mo separator="true">,</mo><mi>t</mi><mn>1</mn></mrow></msub><mo>+</mo><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>s</mi><mn>2</mn><mo separator="true">,</mo><mi>t</mi><mn>2</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>s</mi><mn>1</mn><mo separator="true">,</mo><mi>x</mi></mrow></msub><mo>+</mo><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mn>1</mn></mrow></msub><mo>+</mo><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>s</mi><mn>2</mn><mo separator="true">,</mo><mi>t</mi><mn>2</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>s</mi><mn>1</mn><mo separator="true">,</mo><mi>t</mi><mn>1</mn></mrow></msub><mo>+</mo><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>s</mi><mn>2</mn><mo separator="true">,</mo><mi>x</mi></mrow></msub><mo>+</mo><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mn>2</mn></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>s</mi><mn>1</mn><mo separator="true">,</mo><mi>x</mi></mrow></msub><mo>+</mo><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mn>2</mn></mrow></msub><mo>+</mo><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>s</mi><mn>2</mn><mo separator="true">,</mo><mi>x</mi></mrow></msub><mo>+</mo><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>x</mi><mo separator="true">,</mo><mi>t</mi><mn>2</mn></mrow></msub></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">ans=\min\begin{cases}
dis_{s1,t1}+dis_{s2,t2}\\
dis_{s1,x}+dis_{x,t1}+dis_{s2,t2}\\
dis_{s1,t1}+dis_{s2,x}+dis_{x,t2}\\
dis_{s1,x}+dis_{x,t2}+dis_{s2,x}+dis_{x,t2}
\end{cases}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:5.76em;vertical-align:-2.63em;"></span><span class="mop">min</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.9500200000000003em;"><span style="top:-1.59999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-1.59999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-1.89999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-2.19999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.1500100000000004em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.30001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.60001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.90001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-5.20002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.45002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.1300000000000003em;"><span style="top:-5.130000000000001em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">t</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">t</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.6900000000000004em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">t</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">t</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">t</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">t</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-0.8100000000000002em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">t</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">s</span><span class="mord mtight">2</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">x</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">t</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.63em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p>
<p>在不超过规定时间 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">t_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的情况下，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">n^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> 更新答案即可。</p>
<p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mo>×</mo><mi>m</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n\times m\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>。</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;


using namespace std;
const int MAXN = 3e3 + 5;
int n, m, dis[MAXN][MAXN];
struct Node{
  int x, w;
  bool operator&lt;(const Node &amp;i)const{
    return w &gt; i.w;
  }
}; 
vector&lt;Node&gt; a[MAXN];
int s1, t1, l1, s2, t2, l2;
void dij(int x, int dis[]){
  priority_queue&lt;Node&gt; b;
  for (int i = 1; i &lt;= n; i++){
    dis[i] = 1e9; 
  }
  dis[x] = 0;
  b.push({x, 0});
  while (b.size()){
    auto x = b.top();
    b.pop();
    if (x.w &gt; dis[x.x]){
      continue;
    }
    for (auto v : a[x.x]){
      if (dis[v.x] &gt; dis[x.x] + 1){
        dis[v.x] = dis[x.x] + 1;
        b.push({v.x, dis[v.x]});
      }
    }
  }
}
int main(){
  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
  cin &gt;&gt; n &gt;&gt; m;
  for (int i = 1; i &lt;= m; i++){
    int u, v;
    cin &gt;&gt; u &gt;&gt; v;
    a[u].push_back({v, i}), a[v].push_back({u, i});
  }
  cin &gt;&gt; s1 &gt;&gt; t1 &gt;&gt; l1 &gt;&gt; s2 &gt;&gt; t2 &gt;&gt; l2;
  for (int i = 1; i &lt;= n; i++){
    dij(i, dis[i]);
  }
  int ans = m + 1;
  if (dis[s1][t1] &lt;= l1 &amp;&amp; dis[s2][t2] &lt;= l2){
    ans = dis[s1][t1] + dis[s2][t2];
  }
  swap(s1, t1);
  for (int i = 1; i &lt;= n; i++){
    for (int j = 1; j &lt;= n; j++){
      int x = dis[s1][i] + dis[i][j] + dis[j][t1], y = dis[s2][i] + dis[i][j] + dis[j][t2];
      if (x &lt;= l1 &amp;&amp; y &lt;= l2){
        ans = min(ans, x + y - dis[i][j]);
      }
    }
  }
  swap(s1, t1);
  for (int i = 1; i &lt;= n; i++){
    for (int j = 1; j &lt;= n; j++){
      int x = dis[s1][i] + dis[i][j] + dis[j][t1], y = dis[s2][i] + dis[i][j] + dis[j][t2];
      if (x &lt;= l1 &amp;&amp; y &lt;= l2){
        ans = min(ans, x + y - dis[i][j]);
      }
    }
  }
  cout &lt;&lt; m - ans;
  return 0;
}
</code></pre>
<h1 id="cf507e-breaking-good"><a href="https://www.luogu.com.cn/problem/cf507e">CF507E Breaking Good</a></h1>
<p>首先最短路不说了。</p>
<p>如果我们最开始一个点都不选，那么显然 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">_</mi><mi>d</mi><mi>i</mi><msub><mi>s</mi><mi>x</mi></msub><mo>=</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">\_dis_x=m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00444em;vertical-align:-0.31em;"></span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>。</p>
<p>那么此时从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span></span></span></span> 转移到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span>，走的边是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span>，在最短路的前提下，存在以下关系：</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">_</mi><mi>d</mi><mi>i</mi><msub><mi>s</mi><mi>v</mi></msub><mo>=</mo><mi>min</mi><mo>⁡</mo><mo>(</mo><mi mathvariant="normal">_</mi><mi>d</mi><mi>i</mi><msub><mi>s</mi><mi>v</mi></msub><mo separator="true">,</mo><mrow><mo fence="true">{</mo><mtable><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">_</mi><mi>d</mi><mi>i</mi><msub><mi>s</mi><mi>x</mi></msub><mo>+</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>p</mi><mi>z</mi></msub><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">_</mi><mi>d</mi><mi>i</mi><msub><mi>s</mi><mi>x</mi></msub><mo>−</mo><mn>1</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>p</mi><mi>z</mi></msub><mo>=</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable></mrow><mo>)</mo></mrow><annotation encoding="application/x-tex">\_dis_v=\min(\_dis_v, \begin{cases}
\_dis_x+1 &amp; p_z=0\\
\_dis_x-1 &amp; p_z=1\\
\end{cases})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.00444em;vertical-align:-0.31em;"></span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>（应该很好理解吧）</p>
<p>然后，就可以愉快的通过 36 个点，然后 MLE on test 37...</p>
<p>但是通过观察，我们猜测 test 37 是条链。所以特判一下，就通过了这道题~</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;

using namespace std;
const int MAXN = 1e5 + 5;
int n, m, ans = 2e9, pp = 2e9;
int dis[MAXN], _dis[MAXN];
bool vis[MAXN];
struct Node{
  int x, y, p;
} b[MAXN];
vector&lt;Node&gt; a[MAXN];
vector&lt;int&gt; qout[MAXN];
int jl(int x, int l, int id, int _l, int from){
  int op = b[id].p ? _l - 1 : _l + 1;
  if (l &gt; dis[x] || (op &gt;= _dis[x] &amp;&amp; l == dis[x])){
    return 0;
  }
  qout[x] = qout[from];
  qout[x].push_back(id);
  dis[x] = l, _dis[x] = op;
  return 1;
}
void bfs(int x, int op){
  queue&lt;int&gt; c;
  for (int i = 1; i &lt;= n; i++){
    dis[i] = 1e9;
    _dis[i] = op;
  }
  dis[x] = 0;
  c.push(x);
  while (c.size()){
    auto p = c.front();
    c.pop();
    for (auto v : a[p]){
      if (jl(v.x, dis[p] + 1, v.p, _dis[p], p)){
        c.push(v.x);
      }
    }
    if (p != 1){
      qout[p].clear();
    }
    
  }
}
int main(){
  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
  cin &gt;&gt; n &gt;&gt; m;
  int cnt = 0;
  int _op = 0;
  for (int i = 1, u, v, w; i &lt;= m; i++){
    cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;
    if (n == 1e5 &amp;&amp; m == n - 1 &amp;&amp; !w){
      cnt++;
    }
    _op += w;
    b[i] = {u, v, w};
    a[u].push_back({v, w, i});
    a[v].push_back({u, w, i});
  }
  if (n == 1e5 &amp;&amp; m == n - 1){
    cout &lt;&lt; cnt &lt;&lt; '\n';
    for (int i = 1; i &lt;= m; i++){
      if (!b[i].p){
        cout &lt;&lt; b[i].x &lt;&lt; ' ' &lt;&lt; b[i].y &lt;&lt; &quot; 1\n&quot;;
      }
    }
    exit(0);
  }
  if (n == 1e5 &amp;&amp; m == n - 1){
    exit(0);
  }
  bfs(n, _op);
  cout &lt;&lt; _dis[1] &lt;&lt; '\n';
  for (auto v : qout[1]){
    vis[v] = 1;
  }
  for (int i = 1; i &lt;= m; i++){
    if (b[i].p ^ vis[i]){
      cout &lt;&lt; b[i].x &lt;&lt; ' ' &lt;&lt; b[i].y &lt;&lt; ' ' &lt;&lt; !b[i].p &lt;&lt; '\n';
    }
  }
  return 0;
}
</code></pre>
<h1 id="cf1473e-minimum-path"><a href="https://www.luogu.com.cn/problem/cf1473e">CF1473E Minimum Path</a></h1>
<p>分层图。</p>
<p>连边，跑 Dijkstra 即可。</p>
<p>时间复杂度：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>m</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(m\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span></p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
#define int long long

using namespace std;
const int MAXN = 4e6 + 5;
int n, m;
long long dis[MAXN];
struct Node{
  int x;
  int v;
  bool operator&lt;(const Node &amp;i)const{
    return v &gt; i.v;
  }
};
vector&lt;Node&gt; a[MAXN];
void add(int u, int v, int w){
  a[u].push_back({v, w});
}
void dij(){
  for (int i = 2; i &lt;= n * 4; i++){
    dis[i] = 2e18;
  }
  priority_queue&lt;Node&gt; b;
  b.push({1, 0});
  while (b.size()){
    auto x = b.top();
    b.pop();
    if (x.v &gt; dis[x.x]){
      continue;
    }
    for (auto v : a[x.x]){
      if (dis[v.x] &gt; dis[x.x] + v.v){
        dis[v.x] = dis[x.x] + v.v;
        b.push({v.x, dis[v.x]});
      }
    }
  }
}
void _add(int u, int v, int w){
  add(u, v + n, 0);
  add(u + n * 2, v + n * 3, 0);
  add(u, v + n * 2, 2 * w);
  add(u + n, v + n * 3, 2 * w);
  add(u, v + n * 3, w);
  add(u, v, w);
  add(u + n, v + n, w);
  add(u + n * 2, v + n * 2, w);
  add(u + n * 3, v + n * 3, w);
}
signed main(){
  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
  cin &gt;&gt; n &gt;&gt; m;
  while (m--){
    int u, v, w;
    cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;
    _add(u, v, w);
    _add(v, u, w);
  }
  dij();
  for (int i = 2; i &lt;= n; i++){
    cout &lt;&lt; dis[i + 3 * n] &lt;&lt; ' ';
  }
  return 0;
}
</code></pre>
<p>但很不理解开 <code>define int long long</code> 能过，不开 TLE。</p>
<h1 id="cf506d-mr-kitayutas-colorful-graph"><a href="https://www.luogu.com.cn/problem/cf506d">CF506D Mr. Kitayuta's Colorful Graph</a></h1>
<p>太菜了，不会。</p>
<h1 id="cf723f-st-spanning-tree"><a href="https://www.luogu.com.cn/problem/cf723f">CF723F st-Spanning Tree</a></h1>
<p>对于一条边 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mo>⟷</mo><mi>v</mi><mo>(</mo><mi>u</mi><mo>&lt;</mo><mi>v</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">u\longleftrightarrow v(u&lt;v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟷</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span> 的边，只有以下几种情况（<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mo>&lt;</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">s&lt;t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>）：</p>
<ol>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mi mathvariant="normal">≠</mi><mi>s</mi><mtext> </mtext><mo>&amp;</mo><mtext> </mtext><mi>v</mi><mi mathvariant="normal">≠</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">u\ne s\ \And\ v\ne t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace"> </span><span class="mbin">&amp;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace"> </span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.19444em;"><span></span></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>。</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mo separator="true">,</mo><mi>v</mi></mrow><annotation encoding="application/x-tex">u,v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span> 任意<strong>一个</strong> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>=</mo><mi>s</mi></mrow><annotation encoding="application/x-tex">=s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">s</span></span></span></span> <strong>或</strong> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>。</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>u</mi><mo>=</mo><mi>s</mi><mtext> </mtext><mo>&amp;</mo><mtext> </mtext><mi>v</mi><mo>=</mo><mi>t</mi></mrow><annotation encoding="application/x-tex">u=s\ \And\ v=t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace"> </span><span class="mbin">&amp;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace"> </span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">t</span></span></span></span>。</li>
</ol>
<p>显然，我们连边的优先级为 1、2、3。那么，我们对三种情况赋对应边权，排个序即可。</p>
<p><strong>但是</strong>，有的时候这种做法会被卡。所以我们就可以采用<strong>随机化策略</strong>。然后，就过了。</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
#define f first
#define s second

using namespace std;
const int MAXN = 2e5 + 5;
using pii = pair&lt;int, int&gt;;
int n, m, fa[MAXN];
bool vis[MAXN];
vector&lt;pii&gt; ans;
int find(int x){
  if (x == fa[x]){
    return x;
  }
  return fa[x] = find(fa[x]);
}
struct Node{
  int u, v, l;
  bool operator&lt;(const Node &amp;i)const{
    return l &lt; i.l;
  }
} a[2 * MAXN];
int main(){
  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
  cin &gt;&gt; n &gt;&gt; m;
  for (int i = 1; i &lt;= m; i++){
    cin &gt;&gt; a[i].u &gt;&gt; a[i].v;
    if (a[i].u &gt; a[i].v){
      swap(a[i].u, a[i].v);
    }
  }
  for (int i = 1; i &lt;= n; i++){
    fa[i] = i;
  }
  int s, t, vs, vt;
  cin &gt;&gt; s &gt;&gt; t &gt;&gt; vs &gt;&gt; vt;
  if (s &gt; t){
    swap(s, t), swap(vs, vt);
  }
  for (int i = 1; i &lt;= m; i++){
    if (a[i].u == s &amp;&amp; a[i].v == t){
      a[i].l = 2;
    }else if (a[i].u == s || a[i].u == t || a[i].v == s || a[i].v == t){
      a[i].l = 1;
    }else {
      a[i].l = 0;
    }
  }
  mt19937 rd(time(0)); 
  srand(rd());
  random_shuffle(a + 1, a + m + 1);
  sort(a + 1, a + m + 1);
  for (int i = 1; i &lt;= m; i++){
    auto v = a[i];
    int x = find(v.u), y = find(v.v);
    if (ans.size() &lt; n - 1 &amp;&amp; x != y &amp;&amp; ((v.u == s &amp;&amp; v.v != t &amp;&amp; vs &amp;&amp; (--vs || 1)) || (v.u == t &amp;&amp; v.v != s &amp;&amp; vt &amp;&amp; (--vt || 1)) || (v.v == t &amp;&amp; v.u != s &amp;&amp; vt &amp;&amp; (--vt || 1)) || (v.v == s &amp;&amp; v.u != t &amp;&amp; vs &amp;&amp; (--vs || 1)) || (v.u == s &amp;&amp; v.v == t &amp;&amp; vs &amp;&amp; vt &amp;&amp; (--vs || 1) &amp;&amp; (--vt || 1)) || (v.l == 0))){//十分优美，不是吗？
      fa[x] = y;
      ans.push_back({v.u, v.v});
    }
  }
  if (ans.size() &lt; n - 1){
    cout &lt;&lt; &quot;No&quot;;
  }else {
    cout &lt;&lt; &quot;Yes\n&quot;;
    for (int i = 0; i &lt; n - 1; i++){
      cout &lt;&lt; ans[i].f &lt;&lt; ' ' &lt;&lt; ans[i].s &lt;&lt; '\n';
    }
  }
  return 0;
}
</code></pre>
<p>而且还是最优解呢喵~（<a href="https://www.luogu.com.cn/record/list?pid=CF723F&amp;orderBy=1&amp;status=&amp;page=1">Link</a>）</p>
<h1 id="cf1100e-andrew-and-taxi"><a href="https://www.luogu.com.cn/problem/cf1100e">CF1100E Andrew and Taxi</a></h1>
<p>二分答案 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>。如果一条边的边权 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>&gt;</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">w_i&gt;x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span>，那么就不能动。</p>
<p>然后拓扑排序。如果有环就说明 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 不可能达成。</p>
<p>然后如果 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>w</mi><mi>i</mi></msub><mo>&lt;</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">w_i&lt;x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 并且 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>u</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">u_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 在拓扑序中在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的前面，那么这两条边就要互换。</p>
<p>然后输出答案即可。</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
#define f first
#define s second

using namespace std;
using pii = pair&lt;int, vector&lt;int&gt;&gt;;
const int MAXN = 1e5 + 5;
int n, m;
vector&lt;int&gt; ans;
struct Node{
  int u, v, w;
} a[MAXN];
pii check(int x){
  vector&lt;int&gt; b[MAXN], ind(n + 1, 0), q(n + 1, 0);
  for (int i = 1; i &lt;= m; i++){
    if (a[i].w &gt; x){
      b[a[i].u].push_back(a[i].v);
      ind[a[i].v]++;
    }
  }
  queue&lt;int&gt; c;
  int cnt = 0;
  for (int i = 1; i &lt;= n; i++){
    if (!ind[i]){
      c.push(i);
    }
  }
  while (c.size()){
    auto p = c.front();
    c.pop();
    q[p] = ++cnt;
    for (auto v : b[p]){
      ind[v]--;
      if (!ind[v]){
        c.push(v);
      }
    }
  }
  vector&lt;int&gt; tmp;
  if (cnt != n){
    return {0, tmp};
  }
  for (int i = 1; i &lt;= m; i++){
    if (a[i].w &lt;= x &amp;&amp; q[a[i].u] &gt; q[a[i].v]){
      tmp.push_back(i);
    }
  }
  return {1, tmp};
}
int main(){
  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
  cin &gt;&gt; n &gt;&gt; m;
  for (int i = 1; i &lt;= m; i++){
    cin &gt;&gt; a[i].u &gt;&gt; a[i].v &gt;&gt; a[i].w;
  }
  int l = 0, r = 1e9 + 1;
  while (l &lt; r){
    int mid = (l + r) &gt;&gt; 1;
    auto p = check(mid);
    if (p.f){
      ans = p.s;
      r = mid;
    }else {
      l = mid + 1;
    }
  }
  cout &lt;&lt; l &lt;&lt; ' ' &lt;&lt; ans.size() &lt;&lt; '\n';
  for (auto v : ans){
    cout &lt;&lt; v &lt;&lt; ' ';
  }  
  return 0;
}
</code></pre>
<h1 id="cf1200e-tourism"><a href="https://www.luogu.com.cn/problem/cf1200e">CF1200E Tourism</a></h1>
<p>跑一遍拓扑，做 DP，然后特判就好了</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;

using namespace std;
const int MAXN = 2e5 + 5;
int n, m, a[MAXN], ind[MAXN];
long long ans, dp[MAXN], sum;
vector&lt;int&gt; g[MAXN];
void topo(int u){
  queue&lt;int&gt; b;
  for (int i = 1; i &lt;= n; i++){
    if (ind[i] == 1 &amp;&amp; i != u){
      b.push(i);
    }
  }
  while (b.size()){
    auto x = b.front();
    b.pop();
    ind[x] = 0;
    for (auto v : g[x]){
      dp[v] = max(dp[v], dp[x] + a[x]);
      if (!ind[v]){
      	continue;
			}
      if (v == u){
      	continue;
      }
      ind[v]--;
      if (ind[v] == 1){
        b.push(v);
      }
    }
  }
}
int main (){
  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
  cin &gt;&gt; n &gt;&gt; m;
  for (int i = 1; i &lt;= n; i++){
    cin &gt;&gt; a[i];
  }
  while (m--){
    int u, v;
    cin &gt;&gt; u &gt;&gt; v;
    g[u].push_back(v);
    g[v].push_back(u);
    ind[u]++, ind[v]++;
  }
  if (n == 1){
    cout &lt;&lt; a[1];
    exit(0);
  }else if (n == 2){
  	cout &lt;&lt; a[1] + a[2];
  	exit(0);
	} 
  int s;
  cin &gt;&gt; s;
  topo(s);
  for (int i = 1; i &lt;= n; i++){
    if (ind[i]){
      ans = max(ans, dp[i]);
      sum += a[i];
    }
  }
  cout &lt;&lt; ans + sum;
  return 0;
}
</code></pre>
<h1 id="cf590c-three-states"><a href="https://www.luogu.com.cn/problem/cf590c">CF590C Three States</a></h1>
<p>从所有国家出发跑一遍 BFS。记 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mi>i</mi><msub><mi>s</mi><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo separator="true">,</mo><mi>p</mi></mrow></msub><mo>(</mo><mi>p</mi><mo>∈</mo><mo>{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo>}</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">dis_{i,j, p}(p\in\{1,2,3\})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathdefault">d</span><span class="mord mathdefault">i</span><span class="mord"><span class="mord mathdefault">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mpunct mtight">,</span><span class="mord mathdefault mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">p</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">}</span><span class="mclose">)</span></span></span></span> 为点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">(i,j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span> 到国家 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault">p</span></span></span></span> 的距离。</p>
<p>然后对于每个点求最小值即可。</p>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
#define f first
#define s second

using namespace std;
const int MAXN = 1e3 + 5;
using pii = pair&lt;int, int&gt;;
int n, m;
long long dp[MAXN][MAXN][4];
string s[MAXN];
int fx[2][4] = {{1, -1, 0, 0}, {0, 0, 1, -1}};
deque&lt;pii&gt; b;
void jl(int dx, int dy, pii x, int p){
  if (dx &gt;= 1 &amp;&amp; dy &gt;= 1 &amp;&amp; dx &lt;= n &amp;&amp; dy &lt;= m &amp;&amp; s[dx][dy] != '#' &amp;&amp; dp[x.f][x.s][p] + 1 &lt; dp[dx][dy][p]){
    dp[dx][dy][p] = dp[x.f][x.s][p] + (s[dx][dy] == '.');
    if (s[dx][dy] == '.'){
      b.push_back({dx, dy});
    }else {
      b.push_front({dx, dy});
    }
  }
}
void bfs(int p){
  b.clear();
  for (int i = 1; i &lt;= n; i++){
    for (int j = 1; j &lt;= m; j++){
      if (s[i][j] == p + '0'){
        b.push_back({i, j});
        dp[i][j][p] = 0;
      }
    }
  }
  while (b.size()){
    auto x = b.front();
    b.pop_front();
    for (int i = 0; i &lt; 4; i++){
      int dx = x.f + fx[0][i], dy = x.s + fx[1][i];
      jl(dx, dy, x, p);
    }
  }
}
signed main(){
  ios::sync_with_stdio(0), cin.tie(0), cout.tie(0);
  cin &gt;&gt; n &gt;&gt; m;
  for (int i = 1; i &lt;= n; i++){
    cin &gt;&gt; s[i];
    s[i] = ' ' + s[i];
    for (int j = 1; j &lt;= m; j++){
      dp[i][j][1] = dp[i][j][2] = dp[i][j][3] = n * m;
    }
  }
  bfs(1), bfs(2), bfs(3);
  long long ans = 2e18;
  for (int i = 1; i &lt;= n; i++){
    for (int j = 1; j &lt;= m; j++){
      long long k = 1ll * dp[i][j][1] + dp[i][j][2] + dp[i][j][3];
      if (s[i][j] == '.'){
        k -= 2;
      }
      ans = min(ans, k);
    }
  }
  cout &lt;&lt; (ans &gt;= n * m ? -1 : ans);
  return 0;
}
</code></pre>
<h1 id="cf48e-ivan-the-fool-vs-gorynych-the-dragon"><a href="https://www.luogu.com.cn/problem/cf48e">CF48E Ivan the Fool VS Gorynych the Dragon</a></h1>
<p>太菜了，不会。</p>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://blog.tbdsh.top/tag/hktvtykSL/" class="tag">
                    学习笔记
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://blog.tbdsh.top/csp-2023-translated/">
                  <h3 class="post-title">
                    2023 CSP-J/S 游记 【Top】
                  </h3>
                </a>
              </div>
            

            
			<div id="vcomments"></div>
          </div>
        </div>
      </div>
    </div>
    <script src="/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


  <script src="/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad()
  </script>




<script>class Circle {
  constructor({ origin, speed, color, angle, context }) {
    this.origin = origin
    this.position = { ...this.origin }
    this.color = color
    this.speed = speed
    this.angle = angle
    this.context = context
    this.renderCount = 0
  }

  draw() {
    this.context.fillStyle = this.color
    this.context.beginPath()
    this.context.arc(this.position.x, this.position.y, 2, 0, Math.PI * 2)
    this.context.fill()
  }

  move() {
    this.position.x = (Math.sin(this.angle) * this.speed) + this.position.x
    this.position.y = (Math.cos(this.angle) * this.speed) + this.position.y + (this.renderCount * 0.3)
    this.renderCount++
  }
}

class Boom {
  constructor ({ origin, context, circleCount = 10, area }) {
    this.origin = origin
    this.context = context
    this.circleCount = circleCount
    this.area = area
    this.stop = false
    this.circles = []
  }

  randomArray(range) {
    const length = range.length
    const randomIndex = Math.floor(length * Math.random())
    return range[randomIndex]
  }

  randomColor() {
    const range = ['8', '9', 'A', 'B', 'C', 'D', 'E', 'F']
    return '#' + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range) + this.randomArray(range)
  }

  randomRange(start, end) {
    return (end - start) * Math.random() + start
  }

  init() {
    for(let i = 0; i < this.circleCount; i++) {
      const circle = new Circle({
        context: this.context,
        origin: this.origin,
        color: this.randomColor(),
        angle: this.randomRange(Math.PI - 1, Math.PI + 1),
        speed: this.randomRange(1, 6)
      })
      this.circles.push(circle)
    }
  }

  move() {
    this.circles.forEach((circle, index) => {
      if (circle.position.x > this.area.width || circle.position.y > this.area.height) {
        return this.circles.splice(index, 1)
      }
      circle.move()
    })
    if (this.circles.length == 0) {
      this.stop = true
    }
  }

  draw() {
    this.circles.forEach(circle => circle.draw())
  }
}

class CursorSpecialEffects {
  constructor() {
    this.computerCanvas = document.createElement('canvas')
    this.renderCanvas = document.createElement('canvas')

    this.computerContext = this.computerCanvas.getContext('2d')
    this.renderContext = this.renderCanvas.getContext('2d')

    this.globalWidth = window.innerWidth
    this.globalHeight = window.innerHeight

    this.booms = []
    this.running = false
  }

  handleMouseDown(e) {
    const boom = new Boom({
      origin: { x: e.clientX, y: e.clientY },
      context: this.computerContext,
      area: {
        width: this.globalWidth,
        height: this.globalHeight
      }
    })
    boom.init()
    this.booms.push(boom)
    this.running || this.run()
  }

  handlePageHide() {
    this.booms = []
    this.running = false
  }

  init() {
    const style = this.renderCanvas.style
    style.position = 'fixed'
    style.top = style.left = 0
    style.zIndex = '999999999999999999999999999999999999999999'
    style.pointerEvents = 'none'

    style.width = this.renderCanvas.width = this.computerCanvas.width = this.globalWidth
    style.height = this.renderCanvas.height = this.computerCanvas.height = this.globalHeight

    document.body.append(this.renderCanvas)

    window.addEventListener('mousedown', this.handleMouseDown.bind(this))
    window.addEventListener('pagehide', this.handlePageHide.bind(this))
  }

  run() {
    this.running = true
    if (this.booms.length == 0) {
      return this.running = false
    }

    requestAnimationFrame(this.run.bind(this))

    this.computerContext.clearRect(0, 0, this.globalWidth, this.globalHeight)
    this.renderContext.clearRect(0, 0, this.globalWidth, this.globalHeight)

    this.booms.forEach((boom, index) => {
      if (boom.stop) {
        return this.booms.splice(index, 1)
      }
      boom.move()
      boom.draw()
    })
    this.renderContext.drawImage(this.computerCanvas, 0, 0, this.globalWidth, this.globalHeight)
  }
}

const cursorSpecialEffects = new CursorSpecialEffects()
cursorSpecialEffects.init()</script>
 <canvas width="1366" height="662" style="position: fixed; left: 0px; top: 0px; z-index: 2147483647; pointer-events: none;"></canvas>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>


	<script src="/jinrishici.js" charset="utf-8"></script>
	<script>
        new Valine({
            el: '#vcomments',
            appId: 'iDZAV2PutORALmI19VvTOL3l-gzGzoHsz',
            appKey: 'lY0ESEePM0P51dW1sZT3ozUa',
			placeholder: '发表评论……',
			enableQQ: true,
			recordIP: true,
			avatar: 'hide',
			visitor: true,
			requiredFields: ['nick',],
			
			emojiCDN: 'https://bili-emoji.netlify.app/',
			emojiMaps: {"2023":"5531a5834816222280f20d1ef9e95f69.png","doge":"03ea345ce429b6581d7c28c33305c2b6.png","OK":"e0aa021e21dddbd6d8cecec71e9cf564.png","爱心":"5a2e579b2ef8ff3090980e6ef8f8604d.png","牛年":"3bf5d6cbbefba8ce97a0648b6a4c0682.png","生气":"e8c6c4d90f60dc0074480dc9d83f1fc1.png","生病":"75d80e662baa92dd5400de5f31db16a5.png","疑惑":"ec573404da933630a6037e79f427f43b.png","疼":"47f18cd93a3d67082ab4028fb456cd22.png","福":"13c2add0eca14eba6b76cd59c79cd00e.png","福到了":"28dd4b5f759cce66af0bf2bd4b3bb8f1.png","笑":"1300f40cb6582e518c31c61f7c35c8b0.png","笑哭":"11d2b3795aa8bbc128137269ed565070.png","给心心":"4a3742927431d854b2657900650b0199.png","翻白眼":"e0a8eaa61f61b9cbf7428ea5d859a610.png","老鼠":"bee2749d0ea6dfdfabeee6c3140142c5.png","胜利":"bf7230c44b0ea4839ca59915de038bf8.png","脱单doge":"3a101c859028a2cb92189fc1b9c15522.png","脸红":"cc34c4b1d5c0314e7c27b064783765e8.png","藏狐":"54a1c77cf216d778c6bde5385106ead1.png","视频卫星":"c1170961f032cb5f6f424a46df69215f.png","调皮":"9a87d094973ac78633dbb885e6d7bc16.png","豹富":"6832a46e3211c84937ce8f738fc6c34a.png","跪了":"80e7fe98490ad7819e457ad68ba93dc1.png","辣眼睛":"da076b252779b6888eb13353baa3bdc8.png","酸了":"1c91ce1be1a714aaab88b50032af5e46.png","锦鲤":"24d37f3a5cd1958a30fee2ce0958843c.png","阴险":"f1f4185dc58bed6b9f6c11e3845252c4.png","难过":"aa267ae0097323d46a31a6f8be587425.png","雪花":"ada28642cc8d64807b4f17fe2a504001.png","鸡腿":"9e8e0318425e24fa7b030887ca1faa79.png","黑洞":"6d1aab676d695c9d734a91673344fbd9.png","鼓掌":"5e608d099e4dc9f59c5861ce58e37cfa.png","三星堆":"3b8d3828539c40511e0923bca8e9d5be.png","保佑":"f8019651efa7fc42f2ae73f0061e7996.png","偷笑":"dfa6c0645f1321c9827bd6aad25b66fe.png","傲娇":"e3f1124cb5b212cf015c87bacbe5fe2b.png","兔年":"cd2a975f8ad3079f897751d3743c600c.png","再见":"8e5c0a1e46703251c02613c1048177f1.png","冷":"74eaee9656d23f18bb33d2b88098a64a.png","保卫萝卜_哇":"958c8f6ce7bb0484a4a63f7e9c5b4cac.png","保卫萝卜_哭哭":"fa8815bfc7434d0ff0373228fb56a56f.png","保卫萝卜_白眼":"ed136073c5462ff86d8f5fe38b0345f4.png","保卫萝卜_笔芯":"20d8df4f8239f84dafc8ba105b83adcd.png","保卫萝卜_问号":"38694eedc51856378ca5c6ae85b6c3ed.png","初音未来_大笑":"1e3f26eaf50812c931699c5d0c5a6405.png","加油":"062286ae94fbad3cfee4bd71bf947079.png","原神_哇":"f4b4c770ffd27fa7767dbae241515881.png","原神_哼":"bd4db1c27e8c6be399132039e2f6fca0.png","原神_喝茶":"2037a4c00c04e084d364d54194392d1d.png","原神_嗯":"6381eda0d5ed6a7cb86e0186653d9676.png","原神_欸嘿":"617e49b7dda9d8b6369b173bcb79cc74.png","原神_生气":"af05133b30a5154feb7a3d313008bb5f.png","口罩":"6cd2f36be2b2f9bf938b829fc751e982.png","吃瓜":"455e2b33e157302615678229812d5009.png","吐":"37a03b5e5ec229e8b868693d89ed5b87.png","吓":"17a6c6e6971ed5e08c9f773a09c3aa27.png","呆":"4894c23dd5ef63f827c0c1339495e088.png","呲牙":"f70ae5045d4cc4958e660d3ff28c0d40.png","哈欠":"cf8b4e4df0ef3e6e2fc0409b80147509.png","响指":"f86fbb1a6c3c3652cdc834f812bebba6.png","哦呼":"6f93da6622b4f2e5c3b5a10e70b7cc2c.png","喜极而泣":"e01b6f9b9133c9fb68644a2a9d12708e.png","喜欢":"3d6c396cf4dea3ba2ddb255499dc356a.png","嗑瓜子":"21c569b91e01aad21aeb9c7e1f13178c.png","嘘声":"86273591d0f0fe68453ba76ad611891f.png","嘟嘟":"571103f5e19c06ae75a35644a0e6e203.png","囧":"28986931b90a613b312e004ee2d4925a.png","坎公骑冠剑_吃鸡":"ea160dce32055766020bf674825682ad.png","坎公骑冠剑_ 无语":"0a47b3ee96217b77d5950c00944d8917.png","坎公骑冠剑_钻石":"874df05d9ed4b40427d997243567603f.png","墨镜":"df2cf3c4640f3db4dffe408f7f26060e.png","大哭":"d0cfabad423efa8c95ceb9f98d8778ca.png","大笑":"4402e6e2322eb29cd52dcf9240af6ed6.png","奋斗":"54f5a9c8982f82c776c238b7c5fb7330.png","奥比岛_击爪":"1a3dbffdb829918a04d682c0afc13490.png","奥比岛_喜欢":"93cfb95455ea1249626a86758fad5f12.png","奥比岛_委屈":"cebc9e6dc37fd3f5370175413eca6f9c.png","奥比岛_搬砖":"71fc9dcc474501e993ff996df7b93233.png","奥比岛_点赞":"3b2c7eab1a4438904b651699d28f5563.png","奶茶干杯":"36e525ba9cce1941d38ac4f2b4360700.png","奸笑":"ab5805c719476ccd364209b755dec633.png","妙啊":"ec697e020ed66efc2816895ac2b5a5e1.png","委屈":"af41e0fd8f967c8f968c5d7216725138.png","嫌弃":"485a3f823ee4f7b6e7db6620bfede57c.png","害羞":"0e025345ece4c327bf0278a0d4b3631f.png","尴尬":"1ef4729c527b947833b5761771963550.png","干杯":"1e69a0b68e1682b8adfe6af7a2b0068d.png","微笑":"5acfd68d016cc6141559976112b7beb4.png","念诗之王":"b6046c63c4cf003213ca63a9a3cf6794.png","思考":"21d68b2de0e91dfb14942ca8aea316fc.png","怪我咯":"0766960579a7cf430e2c77a4d52afbc0.png","惊喜":"ba8e1a9ae55fbd5390f4b7c994830737.png","惊讶":"e3b28512cdd930a916f970070e17c10f.png","打call":"d54bb8db985d9eeab6bcf6630a8e9a3a.png","抓狂":"a4de54142f04bdc45c79dc49850ebb6c.png","抠鼻":"3822354914484432273dafbdb18aa94d.png","抱拳":"94d3a21b006ff84f25a4bc45897f4f86.png","拥抱":"18cdedfccd6e4436f982895047dfaeb6.png","捂眼":"f324db992a5b35565a882aca247232fc.png","捂脸":"eb0caf12c6f8d145fc7ab35c96cec54d.png","撇嘴":"a669a1cfabc6dab5dd2a50b59786e2c9.png","支持":"262b0b07dfd0cad4cb8eb442fee44882.png","无悔华夏_不愧是你":"569ed5d136a4a1febba0982cd6a62180.png","无悔华夏_吃瓜":"0230dd3fcd464ad01d536afa2f1b8783.png","无悔华夏_好耶":"8e3de71b2ff49917291fc2fb84e2d5ca.png","无悔华夏_点赞":"0b9a1b0bffb5c34779d12c666f41e38c.png","无悔华夏_达咩":"e9d57ea7af49dfcba8a7bce8de30c24c.png","无语":"27df619585afad4c65eebe95ba98d085.png","星星眼":"e7733aecc308d2c18b7068d5b4cdb3b8.png","来古-呆滞":"baf2450b3a3b74cad596c20523f83cf2.png","来古-沉思":"74397ae15c538c5630ac133bc5e36dcf.png","来古-注意":"7fcf233766f53a28c7f4c8a7dee639d1.png","来古-疑问":"dc73258c54950089f3ac50cb5fb5ac73.png","来古-震撼":"f4394c7d83d925b0e1fe29013dc3f73f.png","歪嘴":"5a135a627c7733c80368ac33c5df3371.png","水稻":"f8bd0a90d88a8d7df5a501590df43fd6.png","汤圆":"5dd80708ba52fef5a61e95de3a5a99c8.png","洛天依":"2b4aeae2d98f0032a2e6fa1f44ed2367.png","滑稽":"bcd94fd3f6b6cfef934b944faf4f9382.png","灵魂出窍":"78ed423d2ec574de1b78b44c84964f24.png","点赞":"75f0fa966d8246d1ba25faa636a40753.png","热":"2044c27397909670f0d90b8b6b5c15c5.png","tv_doge":"4eff1b3335389dd09ff7c69517f2b509.png","tv_亲亲":"4fea3e2403675decd5da17ea17784f68.png","tv_偷笑":"c9a772772778f5e2ec164c29a61a9eb5.png","tv_再见":"3542c4670aad5a693ea398ecebc1153d.png","tv_冷漠":"b12a49f12c8f86ad68864410e9620f55.png","tv_发怒":"38c85ccf43a4601d86b7b00da1a22068.png","tv_发财":"7eed0d93b0c3f70dd026a0fc5028dae4.png","tv_可爱":"14c00346fff68205047a1b529ef95e59.png","tv_吐血":"48a162e62521090979472aa230d0b784.png","tv_呆":"30325743c8a0c5f19a0cafb3957e3cf3.png","tv_呕吐":"e41cfc697caadd77b7dd1dac4c060c6a.png","tv_困":"dbf2ae0c09708ff242090b07577de943.png","tv_坏笑":"3eec33df13571865476e7a30460ae9f9.png","tv_大佬":"e314f8367a221c8edc03060b655f859f.png","tv_大哭":"ede1659180b1a78910d51565950df893.png","tv_委屈":"3cb14e94fac0f4c993eb333e04cad01d.png","tv_害羞":"e568e6ad2b5143f25409f3e559a7cfff.png","tv_尴尬":"5af7407aca8fc41cbaaabdc79879c249.png","tv_微 笑":"8375a890c9f3f1f40ee9a9de5257a0f0.png","tv_思考":"d1f74953fbc6b6d7ca6f96eb1675e1a1.png","tv_惊吓":"bc84a49558952ba388aa98006b16ca57.png","tv_打脸":"397d65c1395d79d4a703a953c7f6caee.png","tv_抓狂":"f86000e53faaa1184578a004307fe110.png","tv_抠鼻":"880a3b5b023b5027b72bac1783f51d6e.png","tv_斜眼笑":"ded4aee92e0f30b3eeb36a1e05a5d1f0.png","tv_无奈":"e87cdb2408e8040d0bc192cd5b24ea9a.png","tv_晕":"581ba4770ff48629ddbf6f6243255843.png","tv_流汗":"ddd12a769c25727929b12ff92b3c9d9d.png","tv_流泪":"ccf0903e32a8fd7f28e5b0d92253a512.png","tv_流鼻血":"361836c3c0cfdd8f5705dfc8c6b6488e.png","tv_点赞":"3ee847d3edeafc252d0794544f9992e4.png","tv_生气":"fe2a7b204c5a8020f83d942a70c9a0f6.png","tv_生病":"5e96847d33c455e5a0ab6712f64a0858.png","tv_疑问":"fdfd8ce477389814748484de4dd9cc9a.png","tv_白眼":"cf4a00990fb20135ffc65eeca265d794.png","tv_皱眉":"f1223580f477d8c97cdb9b0822d3b60e.png","tv_目瞪口呆":"493143090e9e38e268b3b111514d0c8b.png","tv_睡着":"f4af815fe92d682d3df27ae1b95d07e4.png","tv_笑哭":"a2d451b59201a82aa05e974039646d2c.png","tv_腼腆":"aff63ac8d7c0be5783e0a702d5188d87.png","tv_色":"5391e9cddd0b56bf0a5e113ee109b759.png","tv_调侃":"91fa1621c2280d85586a66c5838dec91.png","tv_调皮":"2c4bf726cdab685580696e66fc283018.png","tv_鄙视":"ef9e87e1368c419999dca8bee19e3657.png","tv_闭嘴":"121cb61f9686eb7a1ce0653369a287f6.png","tv_难过":"41dee0cdfb4823b9d72575fe66e0f29a.png","tv_馋":"16a551f55db0522450c7a5cdb58a2745.png","tv_鬼脸":"cb4c4c3d5c7e029990a10bf9f7a6759e.png","tv_黑人问号":"f96f00a2382dd34bc68710894a3e46da.png","tv_鼓掌":"8b2a90cfdc48fa5ddb7bd8f5876b3ad9.png","热词系列_AWSL":"f52dee79a6f9c74a594e5d52df8919ff.png","热词系列_B站有房":"2926f9139b9ef7ac4207dcf4aa485de7.png","热词系列_DNA":"09850c0898143e8797d74523c13f4151.png","热词系列_“狼火”":"55133aace4852644c65d8ff6b23b6afa.png","热词系列_三连":"dca3ed59dc8f33d45b2f80e48f109678.png","热词系列_不孤鸟":"23556d0c7d6a70845f8d66eb355f1986.png","热词系列_不愧是你":"96bca620f4ff630df289aa55c84412c5.png","热词系列_两面包夹芝士":"55baf8275d76d688ecec3b5cdb39fe91.png","热词系列_仙人指路":"6710e5aaf540a223adcce1484737a874.png","热词系列_优雅":"69951b5017b1be28e1c51d70539597f8.png"," 热词系列_你可真星":"e0e70a44263374388e11c59bf87602d8.png","热词系列_你币有了":"204d0bc36490180bfd072e0d76596338.png","热词系列_你细品":"71de91e6ec58cf483001682b55b78bb5.png","热词系列_保护":"25ee64584465a9fa1e695e5a2ab54513.png","热词系列_再来亿遍":"05bfb2529dfa8d5354b3864299b568dc.png","热词系列_升职加薪":"6b4b5a3cff42bddf440d642fa65d696a.png","热词系列_可以":"04bcbd48785d8a745d473aac8303a8b3.png","热词系列_吃嘛嘛香":"6a321f74de5c8bb88da1a4372cc823a2.png","热词系列_吹爆":"af98bdb941becf6717874aea698e9ce4.png","热词系列_咕咕":"cf0bea011546d1ba893879212e4b8bfe.png","热词系列_多谢款待":"8b6fe30e4fdcbf800583be1b06883977.png","热词系列_大 吉大利":"6ab6f4e95e609f2513351725ecf8c531.png","热词系列_大师球":"3dc4e81d00beb07148c5133dc1b8f571.png","热词系列_夺笋呐":"c787ccb17fc84a699e48a73e7a389aea.png","热词系列_奥力给":"f5b000311d2912ec9e7250970c247dae.png","热词系列_好家伙":"45762dcd55809b4a5e1db4a09a007866.png","热词系列_好活":"601911f29b9d194c2b5653f9cfbaccf9.png","热词系列_好耶":"a2ab3dfaf31c4682e9c537dae725c419.png","热词系列_妙啊":"6abd0cb0a0bd39dd5733f9ff59f316cf.png","热词系列_完结撒花":"e84636bc56ce027d75f7027483d9f93f.png","热词系列_害":"ec97464b88305c2d4ed768c4fd141852.png","热词系列_对象":"a339035cdd5372f1e0939a258172b5de.png","热词系列_希望没事":"628d0b83b5a92152f87f565be9ee72aa.png","热词系列_张三":"e67a68c080bb40bc49e090bcf1d50763.png","热词系列_恭喜发财":"4469fa0345bcc04807b7ab0c3b6c593a.png","热词系列_我全都要":"284d9010c18fca30fd0ec6d8285c3614.png","热词系列_我哭了":"433276c16c2db60601dad1d7f1d26f70.png","热词系列_我太南了":"a74d054606831669bd43a5619155779c.png","热词系列_我裂开了":"66d6eeae84de2afe49b6795863989fb5.png","热词系列_我酸了":"390e8336f3e1d1a3d652937d3bf4355e.png","热词系列_打卡":"a95ba3b1fde6bae2b6269902aa2ab6b9.png","热词系列_排面":"d737b446662ef672f03ad34bb31c6625.png","热词系列_新年快乐":"0af17da634606596063edf6f5c9563f1.png","热词系列_早日脱单":"5d2d97aaea2634b4e2aeedd1a353c41a.png","热词系列_有内味了":"b248f0f83d9c4da06c9f59523e1d5098.png","热词系列_有生之年":"c76657ed71b68ecad2b93f4694a58616.png","热词系列_标准结局":"cffb1fd4112e7c5762a89e4d1bc12b3d.png","热词系列_梦幻联动":"e765568d3732fa345c41284aed8edefe.png","热词系列_泪目":"d7f5dd9f3a2057bf128c27eb7f8d89a7.png","热词系列_洛水天依":"a7d4a2a8b946b4147df4b8c84a0473df.png","热词系列_热乎":"7fbd25c1f93baa038f5430e21f2edf56.png","热词系列_燃起来了":"98def051112ef2b032ed9f20e5f86353.png","热词系列_爱了爱了":"2faeb44f254c35181761bc668339dc54.png","热词系列_爷关更":"166db1d898cf959cbdca38c6d4e89a34.png","热词系列_爷青回":"716b7599a86f9de72eb2a1a3f059adcc.png","热词系列_猛男必看":"a868a5ed104abba4338aa5a7df40c9b8.png","热词系列_真香":"1de7316578f05de13f5096019059272e.png","热词 系列_知识增加":"968a80e2cf5e4ca63ec93acaac1207a8.png","热词系列_知识盲区":"b8236a8f0c7dc78ddf6993a69b014247.png","热词系列_破防了":"6f87155eef78a702979917b28e0eb6e2.png","热词系列_神仙UP":"d3e4a77ef0b66fe61a96f68ed8cfd739.png","热词系列_福建舰":"a50465b57be197b277dfd0ecd951255b.png","热词系列_秀":"20868bcf6504f2bc5f75b49be380ba3a.png","热词系列_红红火火":"83d59e51ed4b7200dee4b8dd95502eed.png","热词系列_芜湖起飞":"62013b3cbd25efd15240be9821ae6db8.png","热词系列_身体健康":"110aed26fe37043926c0eaf15be93491.png","热词系列_这次一定":"b7bbd1eef64cadedf75c40f3076da0fd.png","热词系列_递话筒":"b4f0e2042cd73ca11879aaf07ad44471.png","热词系列_锤":"65052d8f6c0f02af00156d32c62d805f.png","热词系列_镇站之宝":"ad4c0c3e0a633240583e53bd693348f0.png","热词系列_问号":"5310d4cf9f1c9f066044c4338c922439.png","热词系列_饮茶先啦":"665f25412fd64c3c516d06bed7716a30.png","热词系列_高产":"ea9c9d43a0f026d81944636b74342a2b.png","热词表情_哎呦不错哦":"97f500b293bc5779910381b8f7ac4e98.png",},
        })
	jinrishici.load(function(result) {
     var jrsc_plac = result.data.content + "\n\t——" + "【" + result.data.origin.dynasty + "】" + result.data.origin.author + "《" + result.data.origin.title + "》"
     document.getElementById("veditor").setAttribute("placeholder",jrsc_plac);
      });
    </script>
	

	<div id="goTopBtn"><i class="fa fa-angle-up" aria-hidden="true"></i></div>
	<style>
	#goTopBtn {
		position: fixed;
		line-height: 45px;
		text-align: center;
		width: 45px;
		bottom: 35px;
		height: 45px;
		cursor: pointer;
		display: none;
		border-radius: 6px;
		filter: progid: DXImageTrnsform.Microsoft.Shadow(color=#e1e1e1,direction=120,strength=4);
		box-shadow: 8px 8px 10px rgba(225, 225, 225, 255);
		font-size: 25px;
		color: #999;
		background-color: #f5f5f5;
	}
	</style>
	<script>
	$(window).scroll(function(){
	   var sc=$(window).scrollTop();
	   var rwidth=$(window).width()
	   if(sc>0){
		$("#goTopBtn").css("display","block");
		$("#goTopBtn").css("left",(rwidth-60)+"px")
	   }else{
	   $("#goTopBtn").css("display","none");
	   }
	 })
	 $("#goTopBtn").click(function(){
	   var sc=$(window).scrollTop();
	   $('body,html').animate({scrollTop:0},500);
	 })

	   </script>
	
  </body>
</html>
